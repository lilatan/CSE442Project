<!doctype html> 
<html lang="en"> 
<head> 
    <meta charset="UTF-8" />
    <title>Welcome</title>
    <script src="//cdn.jsdelivr.net/npm/phaser@3.11.0/dist/phaser.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>
</head>
<body>


<script type="text/javascript">
    var config = {
    type: Phaser.AUTO,
    width: 800,
    height: 600,
    physics: {
        default: 'arcade',
        arcade: {l
            gravity: { y: 300 },
            debug: false
        }
    },
    scene: {
        preload: preload,
        create: create,
        update: update
    }
};

var game = new Phaser.Game(config);
var platforms; 

function preload ()
{
    this.load.image('background', 'afme/Blue.png');
    this.load.image('platform','afme/Green.png');
    this.load.spritesheet('frog','afme/Run.png',{frameWidth: 30, frameHeight: 30});
}

function create ()
{
    for (let x = 0; x < 800/36 + 1; x++) {
        for (let y = 0; y < 600/36 + 1; y++){
            this.add.image(400+(x*36),300+(y*36),'background');
            this.add.image(400-(x*36),300-(y*36),'background');
            this.add.image(400-(x*36),300+(y*36),'background');
            this.add.image(400+(x*36),300-(y*36),'background');
        }
    }
    
    platforms = this.physics.add.staticGroup() ;
    //this.add.image(400,300,'platform'); 
    for (let x = 0; x < 800; x+=36) { 
        this.add.image(x,600,'platform');

    }
    player = this.physics.add.sprite(100, 450, 'frog');
    player.setCollideWorldBounds(true); //may want to change this in the future. 
    this.anims.create({
        key:'left', 
        frames: this.anims.generateFrameNumbers('frog', {start:0, end:12}),
        frameRate: 10, 
        repeat: -1

    });
    this.physics.add.collider(player,platforms); 
    cursors = this.input.keyboard.createCursorKeys(); 

}

function update ()
{
    if (cursors.left.isDown) { 
        player.setVelocityX(-30); 
        player.anims.play('left',true) 
    } else if (cursors.right.isDown) { 
        player.setVelocityX(30); 
        player.anims.play('left',true); 
    } else { 
        player.setVelocityX(0); 
        player.anims.play('left', true);
    }
}

function movementScript(player) { 

    if (cursors.left.isDown) { 
        player.setVelocityX(-30); 
        player.anims.play('left',true) 
    } else if (cursors.right.isDown) { 
        player.setVelocityX(30); 
        player.anims.play('left',true); 
    } else { 
        player.setVelocityX(0); 
        player.anims.play('left', true);
    }

}
</script>